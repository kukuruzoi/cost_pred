<!DOCTYPE html>
<html>
<head>
    <title>Прогнозирование цен на автомобили</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        form { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; }
        input, select { width: 100%; padding: 8px; }
        button { grid-column: span 2; padding: 10px; background: #4CAF50; color: white; border: none; }
        .result { margin-top: 20px; padding: 15px; background: #f5f5f5; }
        .plot { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Прогнозирование цены автомобиля</h1>
    
    <form method="POST">
        <div class="form-group">
            <label for="Year">Год выпуска:</label>
            <input type="number" id="Year" name="Year" required>
        </div>
        
        <div class="form-group">
            <label for="Engine_Size">Объем двигателя:</label>
            <input type="number" step="0.1" id="Engine_Size" name="Engine_Size" required>
        </div>
        
        <div class="form-group">
            <label for="Mileage">Пробег:</label>
            <input type="number" id="Mileage" name="Mileage" required>
        </div>
        
        <div class="form-group">
            <label for="Model">Модель:</label>
            <input type="text" id="Model" name="Model" required>
        </div>
        
        <div class="form-group">
            <label for="Fuel_Type">Тип топлива:</label>
            <select id="Fuel_Type" name="Fuel_Type" required>
                <option value="Petrol">Бензин</option>
                <option value="Diesel">Дизель</option>
                <option value="Hybrid">Гибрид</option>
                <option value="Electric">Электрический</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="Transmission">Коробка передач:</label>
            <select id="Transmission" name="Transmission" required>
                <option value="Manual">Механическая</option>
                <option value="Auto">Автоматическая</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="Doors">Количество дверей:</label>
            <input type="number" id="Doors" name="Doors" min="2" max="5" required>
        </div>
        
        <div class="form-group">
            <label for="Owner_Count">Количество владельцев:</label>
            <input type="number" id="Owner_Count" name="Owner_Count" min="1" required>
        </div>
        
        <button type="submit">Предсказать цену</button>
    </form>
    
    {% if prediction %}
    <div class="result">
        <h2>Предсказанная цена: ${{ prediction }}</h2>
    </div>
    {% endif %}
    
    {% if plot_url %}
    <div class="plot">
        <img src="data:image/png;base64,{{ plot_url }}" alt="Feature Importance">
    </div>
    {% endif %}
</body>
</html>
